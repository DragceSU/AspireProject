flowchart LR
    user([Web operator])
    spa[/Next.js SPA/]
    subgraph AspireHost
        api[(WebApi.Service)]
        invoice[(InvoiceMicroservice)]
        payment[(PaymentMicroservice)]
    end
    bus[[RabbitMQ<br/>invoice-service & order-service]]

    user --> spa
    spa --> api
    api --> user
    invoice -. async .-> bus
    bus -. async .-> payment
    api -. OrderSubmission .-> bus
